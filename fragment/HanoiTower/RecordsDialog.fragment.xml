<core:FragmentDefinition
    xmlns:core="sap.ui.core"
    xmlns="sap.m"
    core:require="{formatter: 'pharelyshau/model/formatter'}">
    <Dialog title="Your Records" icon="sap-icon://competitor" afterClose="onAfterCloseRecordsDialog"
        class="phRecordsDialog">
        <List items="{/Records}" visible="{= ${/Records}.length > 0}">
            <CustomListItem class="phNoFocus">
                <HBox wrap="Wrap" alignItems="Center" class="sapUiSmallMargin" justifyContent="SpaceBetween">
                    <VBox class="sapUiSmallMarginEnd" renderType="Bare">
                        <Title text="Tower of {DiscCount} Discs" titleStyle="H6"/>
                        <HBox renderType="Bare" alignItems="Center" class="sapUiTinyMarginTop">
                            <core:Icon src="sap-icon://fob-watch"/>
                            <Text text="Time: {path: 'Time', formatter: 'formatter.timeMinSec'}" class="sapUiTinyMarginBegin"/>
                            <!-- Moves -->
                            <HBox alignItems="Center" renderType="Bare" class="sapUiSmallMarginBegin"
                                tooltip="{= ${Moves} === Math.pow(2, ${DiscCount}) - 1 ? 'You did it in the minimum number of moves' : '' }">
                                <core:Icon src="sap-icon://step"
                                    color="{= ${Moves} === Math.pow(2, ${DiscCount}) - 1 ? 'Positive' : '' }"/>
                                <Text text="Moves: {Moves}" class="sapUiTinyMarginBegin"/>
                            </HBox>
                        </HBox>
                    </VBox>
                    <Button icon="sap-icon://activate" tooltip="Try to Improve" press="onPressImrpoveResult"/>
                </HBox>
            </CustomListItem>
            <layoutData>
                <FlexItemData maxHeight="25rem"/>
            </layoutData>
        </List>
        <IllustratedMessage visible="{= ${/Records}.length === 0}" illustrationSize="Spot"
            title="You have not any Records yet" illustrationType="sapIllus-SuccessBalloon"
            description="Complete at least on Tower to see Record"/>
        <endButton>
            <Button text="Close" press="onPressCloseRecordsDialog"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>